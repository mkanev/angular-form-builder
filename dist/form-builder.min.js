"use strict";var copyObjectToScope=function(object,scope){var key,value;for(key in object)object.hasOwnProperty(key)&&(value=object[key],"$$hashKey"!==key&&(scope[key]=value))};angular.module("builder.controller",["builder.provider"]).controller("fbFormObjectEditableController",["$scope","$injector",function($scope,$injector){var $builder;return $builder=$injector.get("$builder"),$scope.setupScope=function(formObject){var component;return copyObjectToScope(formObject,$scope),$scope.optionsText=formObject.options.join("\n"),$scope.$watch("[label, description, placeholder, required, options, validation]",function(){return formObject.label=$scope.label,formObject.description=$scope.description,formObject.placeholder=$scope.placeholder,formObject.required=$scope.required,formObject.options=$scope.options,formObject.validation=$scope.validation,formObject.validation},!0),$scope.$watch("optionsText",function(text){var x;return $scope.options=function(){var _i,_len,_ref,_results;for(_ref=text.split("\n"),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)x=_ref[_i],x.length>0&&_results.push(x);return _results}(),$scope.inputText=$scope.options[0],$scope.inputText}),component=$builder.components[formObject.component],$scope.validationOptions=component.validationOptions,$scope.validationOptions},$scope.data={model:null,backup:function(){return this.model={label:$scope.label,description:$scope.description,placeholder:$scope.placeholder,required:$scope.required,optionsText:$scope.optionsText,validation:$scope.validation},this.model},rollback:function(){return this.model?($scope.label=this.model.label,$scope.description=this.model.description,$scope.placeholder=this.model.placeholder,$scope.required=this.model.required,$scope.optionsText=this.model.optionsText,$scope.validation=this.model.validation,$scope.validation):void 0}},$scope.data}]).controller("fbComponentsController",["$scope","$injector",function($scope,$injector){var $builder;return $builder=$injector.get("$builder"),$scope.selectGroup=function($event,group){var component,name,_ref,_results;null!==$event&&$event.preventDefault(),$scope.activeGroup=group,$scope.components=[],_ref=$builder.components,_results=[];for(name in _ref)_ref.hasOwnProperty(name)&&(component=_ref[name],component.group===group&&_results.push($scope.components.push(component)));return _results},$scope.groups=$builder.groups,$scope.activeGroup=$scope.groups[0],$scope.allComponents=$builder.components,$scope.$watch("allComponents",function(){return $scope.selectGroup(null,$scope.activeGroup)})}]).controller("fbComponentController",["$scope",function($scope){return $scope.copyObjectToScope=function(object){return copyObjectToScope(object,$scope)},$scope.copyObjectToScope}]).controller("fbFormController",["$scope","$injector",function($scope,$injector){var $builder,$timeout;return $builder=$injector.get("$builder"),$timeout=$injector.get("$timeout"),null===$scope.input&&($scope.input=[]),$scope.$watch("form",function(){return $scope.input.length>$scope.form.length&&$scope.input.splice($scope.form.length),$timeout(function(){return $scope.$broadcast($builder.broadcastChannel.updateInput)})},!0)}]).controller("fbFormObjectController",["$scope","$injector",function($scope,$injector){var $builder;return $builder=$injector.get("$builder"),$scope.copyObjectToScope=function(object){return copyObjectToScope(object,$scope)},$scope.updateInput=function(value){var input;return input={id:$scope.formObject.id,label:$scope.formObject.label,value:null!==value?value:""},$scope.$parent.input.splice($scope.$index,1,input)},$scope.updateInput}]),angular.module("builder.directive",["builder.provider","builder.controller","builder.drag","validator"]).directive("fbBuilder",["$injector",function($injector){return{restrict:"A",template:"<div class='form-horizontal'>\n    <div class='fb-form-object-editable' ng-repeat=\"object in formObjects\"\n        fb-form-object-editable=\"object\"></div>\n</div>",link:function(scope,element,attrs){var $builder,$drag,beginMove,_base,_name;return $builder=$injector.get("$builder"),$drag=$injector.get("$drag"),scope.formName=attrs.fbBuilder,null===(_base=$builder.forms)[_name=scope.formName]&&(_base[_name]=[]),scope.formObjects=$builder.forms[scope.formName],beginMove=!0,$(element).addClass("fb-builder"),$drag.droppable($(element),{move:function(e){var $empty,$formObject,$formObjects,height,index,offset,positions,_i,_j,_ref,_ref1;if(beginMove&&($("div.fb-form-object-editable").popover("hide"),beginMove=!1),$formObjects=$(element).find(".fb-form-object-editable:not(.empty,.dragging)"),0===$formObjects.length)return void(0===$(element).find(".fb-form-object-editable.empty").length&&$(element).find(">div:first").append($("<div class='fb-form-object-editable empty'></div>")));for(positions=[],positions.push(-1e3),index=_i=0,_ref=$formObjects.length;_ref>_i;index=_i+=1)$formObject=$($formObjects[index]),offset=$formObject.offset(),height=$formObject.height(),positions.push(offset.top+height/2);for(positions.push(positions[positions.length-1]+1e3),index=_j=1,_ref1=positions.length-1;_ref1>=_j;index=_j+=1)if(e.pageY>positions[index-1]&&e.pageY<=positions[index]){$(element).find(".empty").remove(),$empty=$("<div class='fb-form-object-editable empty'></div>"),index-1<$formObjects.length?$empty.insertBefore($($formObjects[index-1])):$empty.insertAfter($($formObjects[index-2]));break}},out:function(){return beginMove&&($("div.fb-form-object-editable").popover("hide"),beginMove=!1),$(element).find(".empty").remove()},up:function(e,isHover,draggable){var formObject,newIndex,oldIndex;return beginMove=!0,$drag.isMouseMoved()?(isHover||"drag"!==draggable.mode?isHover&&("mirror"===draggable.mode&&$builder.insertFormObject(scope.formName,$(element).find(".empty").index(".fb-form-object-editable"),{component:draggable.object.componentName}),"drag"===draggable.mode&&(oldIndex=draggable.object.formObject.index,newIndex=$(element).find(".empty").index(".fb-form-object-editable"),newIndex>oldIndex&&newIndex--,$builder.updateFormObjectIndex(scope.formName,oldIndex,newIndex))):(formObject=draggable.object.formObject,formObject.editable&&$builder.removeFormObject(attrs.fbBuilder,formObject.index)),$(element).find(".empty").remove()):void $(element).find(".empty").remove()}})}}}]).directive("fbFormObjectEditable",["$injector",function($injector){return{restrict:"A",controller:"fbFormObjectEditableController",link:function(scope,element,attrs){var $builder,$compile,$drag,$parse,$validator,component,formObject,popover,view;return $builder=$injector.get("$builder"),$drag=$injector.get("$drag"),$parse=$injector.get("$parse"),$compile=$injector.get("$compile"),$validator=$injector.get("$validator"),scope.inputArray=[],formObject=$parse(attrs.fbFormObjectEditable)(scope),component=$builder.components[formObject.component],scope.setupScope(formObject),view=$compile(component.template)(scope),$(element).append(view),$(element).on("click",function(){return!1}),$drag.draggable($(element),{object:{formObject:formObject}}),formObject.editable?(popover={id:"fb-"+Math.random().toString().substr(2),isClickedSave:!1,view:null,html:component.popoverTemplate},popover.html=$(popover.html).addClass(popover.id),scope.popover={save:function($event){$event.preventDefault(),$validator.validate(scope).success(function(){return popover.isClickedSave=!0,$(element).popover("hide")})},remove:function($event){$event.preventDefault(),$builder.removeFormObject(scope.formName,scope.$index),$(element).popover("hide")},shown:function(){return scope.data.backup(),popover.isClickedSave=!1,popover.isClickedSave},cancel:function($event){scope.data.rollback(),$event&&($event.preventDefault(),$(element).popover("hide"))}},popover.view=$compile(popover.html)(scope),$(element).addClass(popover.id),$(element).popover({html:!0,title:component.label,content:popover.view,container:"body"}),$(element).on("show.bs.popover",function(){var $popover,elementOrigin,popoverTop;return $drag.isMouseMoved()?!1:($("div.fb-form-object-editable:not(."+popover.id+")").popover("hide"),$popover=$("form."+popover.id).closest(".popover"),$popover.length>0?(elementOrigin=$(element).offset().top+$(element).height()/2,popoverTop=elementOrigin-$popover.height()/2,$popover.css({position:"absolute",top:popoverTop}),$popover.show(),setTimeout(function(){return $popover.addClass("in"),$(element).triggerHandler("shown.bs.popover")},0),!1):void 0)}),$(element).on("shown.bs.popover",function(){$(".popover ."+popover.id+" input:first").select(),scope.$apply(function(){return scope.popover.shown()})}),$(element).on("hide.bs.popover",function(){var $popover;return $popover=$("form."+popover.id).closest(".popover"),popover.isClickedSave||(scope.$$phase?scope.popover.cancel():scope.$apply(function(){return scope.popover.cancel()})),$popover.removeClass("in"),setTimeout(function(){return $popover.hide()},300),!1})):void 0}}}]).directive("fbComponents",function(){return{restrict:"A",template:'<ul ng-if="groups.length > 1" class="nav nav-tabs nav-justified">\n    <li ng-repeat="group in groups" ng-class="{active:activeGroup==group}">\n        <a href=\'#\' ng-click="selectGroup($event, group)">{{group}}</a>\n    </li>\n</ul>\n<div class=\'form-horizontal\'>\n    <div class=\'fb-component\' ng-repeat="component in components"\n        fb-component="component"></div>\n</div>',controller:"fbComponentsController"}}).directive("fbComponent",["$injector",function($injector){return{restrict:"A",controller:"fbComponentController",link:function(scope,element,attrs){var $builder,$compile,$drag,$parse,component,view;return $builder=$injector.get("$builder"),$drag=$injector.get("$drag"),$parse=$injector.get("$parse"),$compile=$injector.get("$compile"),component=$parse(attrs.fbComponent)(scope),scope.copyObjectToScope(component),$drag.draggable($(element),{mode:"mirror",defer:!1,object:{componentName:component.name}}),view=$compile(component.template)(scope),$(element).append(view)}}}]).directive("fbForm",["$injector",function($injector){return{restrict:"A",require:"ngModel",scope:{formName:"@fbForm",input:"=ngModel","default":"=fbDefault"},template:'<div class=\'fb-form-object\' ng-repeat="object in form" fb-form-object="object"></div>',controller:"fbFormController",link:function(scope){var $builder,_base,_name;return $builder=$injector.get("$builder"),null===(_base=$builder.forms)[_name=scope.formName]&&(_base[_name]=[]),scope.form=$builder.forms[scope.formName],scope.form}}}]).directive("fbFormObject",["$injector",function($injector){return{restrict:"A",controller:"fbFormObjectController",link:function(scope,element,attrs){var $builder,$compile,$input,$parse,$template,component,view;return $builder=$injector.get("$builder"),$compile=$injector.get("$compile"),$parse=$injector.get("$parse"),scope.formObject=$parse(attrs.fbFormObject)(scope),component=$builder.components[scope.formObject.component],scope.$on($builder.broadcastChannel.updateInput,function(){return scope.updateInput(scope.inputText)}),component.arrayToText&&(scope.inputArray=[],scope.$watch("inputArray",function(newValue,oldValue){var checked,index;if(newValue!==oldValue){checked=[];for(index in scope.inputArray)scope.inputArray[index]&&checked.push(scope.options[index]);return scope.inputText=checked.join(", "),scope.inputText}},!0)),scope.$watch("inputText",function(){return scope.updateInput(scope.inputText)}),scope.$watch(attrs.fbFormObject,function(){return scope.copyObjectToScope(scope.formObject)},!0),$template=$(component.template),$input=$template.find("[ng-model='inputText']"),$input.attr({validator:"{{validation}}"}),view=$compile($template)(scope),$(element).append(view),!component.arrayToText&&scope.formObject.options.length>0&&(scope.inputText=scope.formObject.options[0]),scope.$watch("default["+scope.formObject.id+"]",function(value){return value?component.arrayToText?(scope.inputArray=value,scope.inputArray):(scope.inputText=value,scope.inputText):void 0})}}}]),angular.module("builder.drag",[]).provider("$drag",function(){var $injector,$rootScope,delay;$injector=null,$rootScope=null,this.data={draggables:{},droppables:{}},this.mouseMoved=!1,this.isMouseMoved=function(_this){return function(){return _this.mouseMoved}}(this),this.hooks={down:{},move:{},up:{}},this.eventMouseMove=function(){},this.eventMouseUp=function(){},$(function(_this){return function(){return $(document).on("mousedown",function(e){var func,key,_ref;_this.mouseMoved=!1,_ref=_this.hooks.down;for(key in _ref)_ref.hasOwnProperty(key)&&(func=_ref[key])(e)}),$(document).on("mousemove",function(e){var func,key,_ref;_this.mouseMoved=!0,_ref=_this.hooks.move;for(key in _ref)_ref.hasOwnProperty(key)&&(func=_ref[key])(e)}),$(document).on("mouseup",function(e){var func,key,_ref;_ref=_this.hooks.up;for(key in _ref)_ref.hasOwnProperty(key)&&(func=_ref[key])(e)})}}(this)),this.currentId=0,this.getNewId=function(_this){return function(){return""+_this.currentId++}}(this),this.setupEasing=function(){return jQuery.extend(jQuery.easing,{easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b}})},this.setupProviders=function(injector){return $injector=injector,$rootScope=$injector.get("$rootScope")},this.isHover=function(){return function($elementA,$elementB){var isHover,offsetA,offsetB,sizeA,sizeB;return offsetA=$elementA.offset(),offsetB=$elementB.offset(),sizeA={width:$elementA.width(),height:$elementA.height()},sizeB={width:$elementB.width(),height:$elementB.height()},isHover={x:!1,y:!1},isHover.x=offsetA.left>offsetB.left&&offsetA.left<offsetB.left+sizeB.width,isHover.x=isHover.x||offsetA.left+sizeA.width>offsetB.left&&offsetA.left+sizeA.width<offsetB.left+sizeB.width,isHover?(isHover.y=offsetA.top>offsetB.top&&offsetA.top<offsetB.top+sizeB.height,isHover.y=isHover.y||offsetA.top+sizeA.height>offsetB.top&&offsetA.top+sizeA.height<offsetB.top+sizeB.height,isHover.x&&isHover.y):!1}}(this),delay=function(ms,func){return setTimeout(function(){return func()},ms)},this.autoScroll={up:!1,down:!1,scrolling:!1,scroll:function(_this){return function(){return _this.autoScroll.scrolling=!0,_this.autoScroll.up?($("html, body").dequeue().animate({scrollTop:$(window).scrollTop()-50},100,"easeOutQuad"),delay(100,function(){return _this.autoScroll.scroll()})):_this.autoScroll.down?($("html, body").dequeue().animate({scrollTop:$(window).scrollTop()+50},100,"easeOutQuad"),delay(100,function(){return _this.autoScroll.scroll()})):(_this.autoScroll.scrolling=!1,_this.autoScroll.scrolling)}}(this),start:function(_this){return function(e){if(e.clientY<50){if(_this.autoScroll.up=!0,_this.autoScroll.down=!1,!_this.autoScroll.scrolling)return _this.autoScroll.scroll()}else{if(!(e.clientY>$(window).innerHeight()-50))return _this.autoScroll.up=!1,_this.autoScroll.down=!1,_this.autoScroll.down;if(_this.autoScroll.up=!1,_this.autoScroll.down=!0,!_this.autoScroll.scrolling)return _this.autoScroll.scroll()}}}(this),stop:function(_this){return function(){return _this.autoScroll.up=!1,_this.autoScroll.down=!1,_this.autoScroll.down}}(this)},this.dragMirrorMode=function(_this){return function($element,defer,object){var result;return null===defer&&(defer=!0),result={id:_this.getNewId(),mode:"mirror",maternal:$element[0],element:null,object:object},$element.on("mousedown",function(e){var $clone;return e.preventDefault(),$clone=$element.clone(),result.element=$clone[0],$clone.addClass("fb-draggable form-horizontal prepare-dragging"),_this.hooks.move.drag=function(e,defer){var droppable,id,_ref,_results;if(!$clone.hasClass("prepare-dragging")||($clone.css({width:$element.width(),height:$element.height()}),$clone.removeClass("prepare-dragging"),$clone.addClass("dragging"),!defer)){$clone.offset({left:e.pageX-$clone.width()/2,top:e.pageY-$clone.height()/2}),_this.autoScroll.start(e),_ref=_this.data.droppables,_results=[];for(id in _ref)_ref.hasOwnProperty(id)&&(droppable=_ref[id],_results.push(_this.isHover($clone,$(droppable.element))?droppable.move(e,result):droppable.out(e,result)));return _results}},_this.hooks.up.drag=function(e){var droppable,id,isHover,_ref;_ref=_this.data.droppables;for(id in _ref)_ref.hasOwnProperty(id)&&(droppable=_ref[id],isHover=_this.isHover($clone,$(droppable.element)),droppable.up(e,isHover,result));return delete _this.hooks.move.drag,delete _this.hooks.up.drag,result.element=null,$clone.remove(),_this.autoScroll.stop()},$("body").append($clone),defer?void 0:_this.hooks.move.drag(e,defer)}),result}}(this),this.dragDragMode=function(_this){return function($element,defer,object){var result;return null===defer&&(defer=!0),result={id:_this.getNewId(),mode:"drag",maternal:null,element:$element[0],object:object},$element.addClass("fb-draggable"),$element.on("mousedown",function(e){return e.preventDefault(),$element.hasClass("dragging")?void 0:($element.addClass("prepare-dragging"),_this.hooks.move.drag=function(e,defer){var droppable,id,_ref;if(!$element.hasClass("prepare-dragging")||($element.css({width:$element.width(),height:$element.height()}),$element.removeClass("prepare-dragging"),$element.addClass("dragging"),!defer)){$element.offset({left:e.pageX-$element.width()/2,top:e.pageY-$element.height()/2}),_this.autoScroll.start(e),_ref=_this.data.droppables;for(id in _ref)_ref.hasOwnProperty(id)&&(droppable=_ref[id],_this.isHover($element,$(droppable.element))?droppable.move(e,result):droppable.out(e,result))}},_this.hooks.up.drag=function(e){var droppable,id,isHover,_ref;_ref=_this.data.droppables;for(id in _ref)_ref.hasOwnProperty(id)&&(droppable=_ref[id],isHover=_this.isHover($element,$(droppable.element)),droppable.up(e,isHover,result));return delete _this.hooks.move.drag,delete _this.hooks.up.drag,$element.css({width:"",height:"",left:"",top:""}),$element.removeClass("dragging defer-dragging"),_this.autoScroll.stop()},defer?void 0:_this.hooks.move.drag(e,defer))}),result}}(this),this.dropMode=function(_this){return function($element,options){var result;return result={id:_this.getNewId(),element:$element[0],move:function(e,draggable){return $rootScope.$apply(function(){return"function"==typeof options.move?options.move(e,draggable):void 0})},up:function(e,isHover,draggable){return $rootScope.$apply(function(){return"function"==typeof options.up?options.up(e,isHover,draggable):void 0})},out:function(e,draggable){return $rootScope.$apply(function(){return"function"==typeof options.out?options.out(e,draggable):void 0})}}}}(this),this.draggable=function(_this){return function($element,options){var draggable,element,result,_i,_j,_len,_len1;if(null===options&&(options={}),result=[],"mirror"===options.mode)for(_i=0,_len=$element.length;_len>_i;_i++)element=$element[_i],draggable=_this.dragMirrorMode($(element),options.defer,options.object),result.push(draggable.id),_this.data.draggables[draggable.id]=draggable;else for(_j=0,_len1=$element.length;_len1>_j;_j++)element=$element[_j],draggable=_this.dragDragMode($(element),options.defer,options.object),result.push(draggable.id),_this.data.draggables[draggable.id]=draggable;return result}}(this),this.droppable=function(_this){return function($element,options){var droppable,element,result,_i,_len;for(null===options&&(options={}),result=[],_i=0,_len=$element.length;_len>_i;_i++)element=$element[_i],droppable=_this.dropMode($(element),options),result.push(droppable),_this.data.droppables[droppable.id]=droppable;return result}}(this),this.get=function($injector){return this.setupEasing(),this.setupProviders($injector),{isMouseMoved:this.isMouseMoved,data:this.data,draggable:this.draggable,droppable:this.droppable}},this.get.$inject=["$injector"],this.$get=this.get});var __indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1};angular.module("builder.provider",[]).provider("$builder",function(){this.version="0.0.1",this.components={},this.groups=[],this.broadcastChannel={updateInput:"$updateInput"},this.forms={"default":[]},this.formsId={"default":0},this.convertComponent=function(name,component){var result,_ref,_ref1,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9;return result={name:name,group:null!==(_ref=component.group)?_ref:"Default",label:null!==(_ref1=component.label)?_ref1:"",description:null!==(_ref2=component.description)?_ref2:"",placeholder:null!==(_ref3=component.placeholder)?_ref3:"",editable:null!==(_ref4=component.editable)?_ref4:!0,required:null!==(_ref5=component.required)?_ref5:!1,validation:null!==(_ref6=component.validation)?_ref6:"/.*/",validationOptions:null!==(_ref7=component.validationOptions)?_ref7:[],options:null!==(_ref8=component.options)?_ref8:[],arrayToText:null!==(_ref9=component.arrayToText)?_ref9:!1,template:component.template,popoverTemplate:component.popoverTemplate},result.template||console.error("The template is empty."),result.popoverTemplate||console.error("The popoverTemplate is empty."),result},this.convertFormObject=function(name,formObject){var component,exist,form,result,_i,_len,_ref,_ref1,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9;if(null===formObject&&(formObject={}),component=this.components[formObject.component],null===component)throw"The component "+formObject.component+" was not registered.";if(formObject.id){for(exist=!1,_ref=this.forms[name],_i=0,_len=_ref.length;_len>_i;_i++)if(form=_ref[_i],!(formObject.id>form.id)){formObject.id=this.formsId[name]++,exist=!0;break}exist||(this.formsId[name]=formObject.id+1)}return result={id:null!==(_ref1=formObject.id)?_ref1:this.formsId[name]++,component:formObject.component,editable:null!==(_ref2=formObject.editable)?_ref2:component.editable,index:null!==(_ref3=formObject.index)?_ref3:0,label:null!==(_ref4=formObject.label)?_ref4:component.label,description:null!==(_ref5=formObject.description)?_ref5:component.description,placeholder:null!==(_ref6=formObject.placeholder)?_ref6:component.placeholder,options:null!==(_ref7=formObject.options)?_ref7:component.options,required:null!==(_ref8=formObject.required)?_ref8:component.required,validation:null!==(_ref9=formObject.validation)?_ref9:component.validation}},this.reindexFormObject=function(_this){return function(name){var formObjects,index,_i,_ref;for(formObjects=_this.forms[name],index=_i=0,_ref=formObjects.length;_ref>_i;index=_i+=1)formObjects[index].index=index}}(this),this.registerComponent=function(_this){return function(name,component){var newComponent,_ref;null===component&&(component={}),null===_this.components[name]?(newComponent=_this.convertComponent(name,component),_this.components[name]=newComponent,_ref=newComponent.group,__indexOf.call(_this.groups,_ref)<0&&_this.groups.push(newComponent.group)):console.error("The component "+name+" was registered.")}}(this),this.addFormObject=function(_this){return function(name,formObject){var _base;return null===formObject&&(formObject={}),null===(_base=_this.forms)[name]&&(_base[name]=[]),_this.insertFormObject(name,_this.forms[name].length,formObject)}}(this),this.insertFormObject=function(_this){return function(name,index,formObject){var _base,_base1;return null===formObject&&(formObject={}),null===(_base=_this.forms)[name]&&(_base[name]=[]),null===(_base1=_this.formsId)[name]&&(_base1[name]=0),index>_this.forms[name].length?index=_this.forms[name].length:0>index&&(index=0),_this.forms[name].splice(index,0,_this.convertFormObject(name,formObject)),_this.reindexFormObject(name),_this.forms[name][index]}}(this),this.removeFormObject=function(_this){return function(name,index){var formObjects;return formObjects=_this.forms[name],formObjects.splice(index,1),_this.reindexFormObject(name)}}(this),this.updateFormObjectIndex=function(_this){return function(name,oldIndex,newIndex){var formObject,formObjects;if(oldIndex!==newIndex)return formObjects=_this.forms[name],formObject=formObjects.splice(oldIndex,1)[0],formObjects.splice(newIndex,0,formObject),_this.reindexFormObject(name)}}(this),this.get=function(){return{version:this.version,components:this.components,groups:this.groups,forms:this.forms,broadcastChannel:this.broadcastChannel,registerComponent:this.registerComponent,addFormObject:this.addFormObject,insertFormObject:this.insertFormObject,removeFormObject:this.removeFormObject,updateFormObjectIndex:this.updateFormObjectIndex}},this.$get=this.get}),angular.module("builder",["builder.directive"]);